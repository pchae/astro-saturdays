---
// Profile settings component
interface Props {
  user: any;
}

const { user } = Astro.props;
---

<div class="bg-gray-800/10 border border-white/20 rounded-lg p-6">
  <h2 class="text-xl font-semibold text-white mb-6">Profile Information</h2>
  
  <form action="/api/settings/profile" method="POST" class="space-y-6">
    <div>
      <label for="email" class="block text-sm font-medium text-gray-300">Email</label>
      <div class="mt-2">
        <input 
          type="email" 
          name="email" 
          id="email" 
          value={user?.email || ''} 
          disabled
          class="block w-full rounded-md border-0 bg-gray-700/50 py-2 px-3 text-white shadow-sm ring-1 ring-inset ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"
        />
        <p class="mt-1 text-sm text-gray-400">Your email cannot be changed</p>
      </div>
    </div>

    <div>
      <label for="name" class="block text-sm font-medium text-gray-300">Full Name</label>
      <div class="mt-2">
        <input 
          type="text" 
          name="name" 
          id="name" 
          value={user?.user_metadata?.full_name || ''} 
          class="block w-full rounded-md border-0 bg-gray-700/50 py-2 px-3 text-white shadow-sm ring-1 ring-inset ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"
        />
      </div>
    </div>

    <div>
      <label for="organization" class="block text-sm font-medium text-gray-300">Organization</label>
      <div class="mt-2">
        <input 
          type="text" 
          name="organization" 
          id="organization" 
          value={user?.user_metadata?.organization || ''} 
          class="block w-full rounded-md border-0 bg-gray-700/50 py-2 px-3 text-white shadow-sm ring-1 ring-inset ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"
        />
      </div>
    </div>

    <div class="flex justify-end">
      <button 
        type="submit" 
        class="rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"
      >
        Save Changes
      </button>
    </div>
  </form>
</div> 